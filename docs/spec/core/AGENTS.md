---
title: "AGENTS.md"
status: implemented
---

# AGENTS.md

## Goal

Provide a default, repo-local guide for coding assistants (and humans) to understand:
- what `kra` is optimizing for
- what each directory under `KRA_ROOT` means
- where to put notes and artifacts
- how to safely close/archive a workspace

## Files

`kra` always generates one root-level guide:

- `KRA_ROOT/AGENTS.md`
  - global guidance for using `kra`
  - expected directory structure
  - policies (what is tracked in Git, what is ignored)

Workspace-level `AGENTS.md` is template-driven:
- If a workspace template includes `AGENTS.md`, it is copied as-is on `ws create`.
- If a template does not include `AGENTS.md`, no workspace-level `AGENTS.md` is generated by system fallback.

## Content (recommended skeleton)

### `KRA_ROOT/AGENTS.md`

Include:

- Purpose: manage task workspaces with safe archiving
- Directory map:
  - `workspaces/<id>/notes/`: text-first logs (investigation notes, decisions, links)
  - `workspaces/<id>/artifacts/`: file-first evidence (screenshots, log dumps, curl outputs, PoCs)
  - `workspaces/<id>/repos/<alias>/`: git worktrees (NOT Git-tracked)
  - `archive/<id>/`: archived workspaces (Git-tracked)
- Workflow:
  - `kra ws create` -> `kra ws add-repo` -> work -> `kra ws close`
- Insight capture policy:
  - no always-on logs by default
  - propose capture in conversation first
  - persist only after approval via `kra ws insight add ... --approved`
- Git policy:
  - track: everything except `workspaces/**/repos/**`
  - ignore: `workspaces/**/repos/**`

### `KRA_ROOT/workspaces/<id>/AGENTS.md` (optional, template-defined)

If used, recommended content is:

- Workspace ID: `<id>`
- Title: (user-provided at creation time)
- Notes:
  - where to write investigation notes
  - where to store artifacts
  - keep code changes inside `repos/` worktrees only
- Closing:
  - run `kra ws close --id <id>` to archive and remove worktrees

## Notes

- `kra` does not define a formal priority/override mechanism between the two files.
  Operators are expected to load relevant files based on their working directory and file touches.
